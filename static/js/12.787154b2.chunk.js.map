{"version":3,"sources":["components/ItemListContainer/ItemListContainer.js"],"names":["ItemList","lazy","__webpack_require__","e","then","bind","ItemListContainer","_useState","useState","_useState2","Object","C_Users_jaalvarez_Documents_Joaco_imake3dAlvarez_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","items","setItems","_useState3","_useState4","cargando","setCargando","categoria","useParams","useEffect","querydb","getFirestore","queryCollection","collection","queryFilter","query","where","getDocs","res","docs","map","producto","C_Users_jaalvarez_Documents_Joaco_imake3dAlvarez_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","id","data","react__WEBPACK_IMPORTED_MODULE_3___default","a","createElement","Fragment","react__WEBPACK_IMPORTED_MODULE_3__","fallback","_Loader_Loader__WEBPACK_IMPORTED_MODULE_4__","className"],"mappings":"qMAQA,IAAMA,EAAWC,eAAK,kBAAMC,EAAAC,EAAA,IAAAC,KAAAF,EAAAG,KAAA,YAyEXC,UAtEO,WAAK,IAAAC,EACDC,mBAAS,IADRC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACpBK,EADoBH,EAAA,GACbI,EADaJ,EAAA,GAAAK,EAEKN,oBAAS,GAFdO,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAEpBE,EAFoBD,EAAA,GAEVE,EAFUF,EAAA,GAGnBG,EAAcC,cAAdD,UA2CR,OAhCAE,oBACE,WAEA,IAAMC,EAAUC,cAGVC,EAAkBC,YAAWH,EAAS,SAC5C,GAAIH,EAAU,CACd,IAAMO,EAAcC,YAAMH,EAAiBI,YAAM,YAAY,KAAMT,IAGnEU,YAAQH,GAEPrB,KAAK,SAAAyB,GACJhB,EAAUgB,EAAIC,KAAKC,IAAI,SAAAC,GAAQ,OAAAtB,OAAAuB,EAAA,EAAAvB,CAAA,CAAMwB,GAAGF,EAASE,IAAOF,EAASG,WACjElB,GAAY,UAIZW,YAAQL,GAETnB,KAAK,SAAAyB,GACJhB,EAAUgB,EAAIC,KAAKC,IAAI,SAAAC,GAAQ,OAAAtB,OAAAuB,EAAA,EAAAvB,CAAA,CAAMwB,GAAGF,EAASE,IAAOF,EAASG,WACjElB,GAAY,MAMZ,CAACC,IAIHkB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KACAH,EAAAC,EAAAC,cAACE,EAAA,SAAD,CAAUC,SAAUL,EAAAC,EAAAC,cAACI,EAAA,EAAD,OAEjB1B,EACCoB,EAAAC,EAAAC,cAAA,OAAKK,UAAU,sBACbP,EAAAC,EAAAC,cAACI,EAAA,EAAD,OAGFN,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,OAAKK,UAAU,aACbP,EAAAC,EAAAC,cAAA,8CAEFF,EAAAC,EAAAC,cAACtC,EAAD,CAAUY,MAAOA","file":"static/js/12.787154b2.chunk.js","sourcesContent":["import React, { useState, useEffect, Suspense, lazy} from \"react\";\r\nimport Loader from \"../Loader/Loader\"\r\nimport {useParams} from \"react-router-dom\";\r\nimport '../Loader/Loader.css'\r\nimport \"./itemListContainer.css\"\r\n\r\nimport {collection,  getDocs,getFirestore,query,where } from \"firebase/firestore\"\r\n\r\nconst ItemList = lazy(() => import ('../ItemList/ItemList'))\r\n\r\n\r\nconst ItemListContainer=() =>{\r\n  const [items, setItems] = useState([]);\r\n  const [cargando, setCargando] = useState(true);\r\n  const { categoria } = useParams();\r\n\r\n  const traerProductos = async () =>{\r\n    const db = getFirestore();\r\n    await getDocs(collection(db,'items')).then((snapshot)=>{\r\n    const dataExtraida = snapshot.docs.map((datos) => datos.data())\r\n        setItems(dataExtraida)\r\n    })\r\n }\r\n\r\n\r\n  useEffect(\r\n    () => {\r\n    \r\n    const querydb = getFirestore()\r\n    \r\n\r\n    const queryCollection = collection(querydb, 'items')\r\n    if (categoria){\r\n    const queryFilter = query(queryCollection, where('categoria','==', categoria)\r\n    )\r\n  \r\n    getDocs(queryFilter)\r\n\r\n    .then(res => {\r\n      setItems( res.docs.map(producto => ({id:producto.id, ...producto.data()})))\r\n      setCargando(false)\r\n    })}\r\n\r\n    else {\r\n      getDocs(queryCollection)\r\n  \r\n    .then(res => {\r\n      setItems( res.docs.map(producto => ({id:producto.id, ...producto.data()})))\r\n      setCargando(false)\r\n    })\r\n    \r\n    \r\n    } \r\n    \r\n   }, [categoria]\r\n  );\r\n\r\n  return (\r\n    <>\r\n    <Suspense fallback={<Loader />}>\r\n      \r\n      {cargando ? \r\n        <div className=\"containerPrincipal\">\r\n          <Loader/>\r\n        </div>\r\n      :       \r\n        <div>\r\n            <div className='tituloWeb'>\r\n              <h1> Shop de IMake3D Impresiones 3D</h1>\r\n            </div>\r\n            <ItemList items={items} />\r\n      </div>\r\n      }\r\n    </Suspense>\r\n    \r\n    </>\r\n  )\r\n}  \r\n\r\n\r\n  \r\n  export default ItemListContainer;"],"sourceRoot":""}